"use strict";(self["webpackChunkmicrobit"]=self["webpackChunkmicrobit"]||[]).push([[691],{1691:(e,t,i)=>{i.r(t),i.d(t,{default:()=>N});var n=i(3673);function a(e,t,i,a,c,o){const r=(0,n.up)("q-btn"),d=(0,n.up)("micro-bit"),l=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(l,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"full-width",color:"primary","no-caps":"",onClick:e.scanDevices,label:"Scan"},null,8,["onClick"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getDevices,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n.Wm)(d,{device:e},null,8,["device"])])))),128))])),_:1})}var c=i(3617),o=i(2323),r=i(8880);const d={class:"text-h6"},l={key:0,class:"row text-center"},v={class:"col"},u={class:"col"},s={key:2};function h(e,t,i,a,c,h){const m=(0,n.up)("q-card-section"),p=(0,n.up)("micro-bit-button-a"),B=(0,n.up)("micro-bit-button-b"),g=(0,n.up)("micro-bit-temperature"),w=(0,n.up)("micro-bit-led"),b=(0,n.up)("q-input"),y=(0,n.up)("q-btn"),M=(0,n.up)("q-card-actions"),D=(0,n.up)("q-card");return(0,n.wg)(),(0,n.j4)(D,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n._)("div",d,(0,o.zw)(e.deviceName),1)])),_:1}),e.isDeviceConnected?((0,n.wg)(),(0,n.j4)(m,{key:0},{default:(0,n.w5)((()=>[e.isButtonAvailable?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",v,[(0,n.Wm)(p,{device:e.device},null,8,["device"])]),(0,n._)("div",u,[(0,n.Wm)(B,{device:e.device},null,8,["device"])])])):(0,n.kq)("",!0),e.isTemperatureAvailable?((0,n.wg)(),(0,n.j4)(g,{key:1,device:e.device},null,8,["device"])):(0,n.kq)("",!0),e.isLedAvailable?((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(w,{device:e.device},null,8,["device"]),(0,n.Wm)(b,{modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.text=t),type:"text","hide-bottom-space":"","hide-hint":"",label:"Text",outlined:"",onKeypress:(0,r.D2)(e.writeText,["enter"])},null,8,["modelValue","onKeypress"])])):(0,n.kq)("",!0)])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(M,null,{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onClick:e.connect,loading:e.isDeviceConnecting,class:"full-width",label:e.connectButtonLabel},null,8,["onClick","loading","label"])])),_:1})])),_:1})}var m=i(5206);const p=(0,n._)("div",{class:"text-h4"},"A",-1),B={class:"text-h2"};function g(e,t,i,a,c,r){return(0,n.wg)(),(0,n.iD)("div",null,[p,(0,n._)("div",B,(0,o.zw)(e.deviceButtonAData),1)])}const w=(0,n.aZ)({name:"MicroBitButtonA",props:{device:{type:Object,required:!0}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceButtonAData(){var e;return null===(e=this.device)||void 0===e?void 0:e.button.a.data}},methods:{getMicroBit(){return m.MicroBit.get(this.deviceId)},async readButtonAState(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readButtonAState())}catch(t){console.log(t)}}},async mounted(){await this.readButtonAState()}});w.render=g;const b=w,y=(0,n._)("div",{class:"text-h4"},"B",-1),M={class:"text-h2"};function D(e,t,i,a,c,r){return(0,n.wg)(),(0,n.iD)("div",null,[y,(0,n._)("div",M,(0,o.zw)(e.deviceButtonBData),1)])}const x=(0,n.aZ)({name:"MicroBitButtonB",props:{device:{type:Object,required:!0}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceButtonBData(){var e;return null===(e=this.device)||void 0===e?void 0:e.button.b.data}},methods:{getMicroBit(){return m.MicroBit.get(this.deviceId)},async readButtonBState(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readButtonBState())}catch(t){console.log(t)}}},async mounted(){await this.readButtonBState()}});x.render=D;const k=x;function C(e,t,i,a,c,o){const r=(0,n.up)("q-checkbox");return(0,n.wg)(),(0,n.iD)("div",null,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(5,(t=>(0,n._)("div",{class:"row justify-center",key:t},[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(5,(i=>(0,n._)("div",{class:"col-auto",key:i},[(0,n.Wm)(r,{dense:"","model-value":e.deviceLedData[t-1][i-1],"onUpdate:modelValue":n=>e.writeMatrixState(t-1,i-1,n)},null,8,["model-value","onUpdate:modelValue"])]))),64))]))),64))])}const f=(0,n.aZ)({name:"MicroBitLed",props:{device:{type:Object,required:!0}},data(){return{matrix:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceLedData(){var e;return null===(e=this.device)||void 0===e?void 0:e.led.data}},watch:{deviceLedData(e){this.matrix=e}},methods:{getMicroBit(){return m.MicroBit.get(this.deviceId)},async writeMatrixState(e,t,i){try{var n;this.matrix[e][t]=i,await(null===(n=this.getMicroBit())||void 0===n?void 0:n.writeMatrixState(this.matrix))}catch(a){console.log(a)}},async readMatrixState(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readMatrixState())}catch(t){console.log(t)}}},async mounted(){await this.readMatrixState()}});var q=i(1420),_=i(7518),A=i.n(_);f.render=C;const S=f;A()(f,"components",{QCheckbox:q.Z});const T=(0,n._)("div",{class:"text-h4"},"Temperature",-1),Z={class:"text-h2"};function I(e,t,i,a,c,r){return(0,n.wg)(),(0,n.iD)("div",null,[T,(0,n._)("div",Z,(0,o.zw)(e.deviceTemperatureData),1)])}const j=(0,n.aZ)({name:"MicroBitTemperature",props:{device:{type:Object,required:!0}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceTemperatureData(){var e;return null===(e=this.device)||void 0===e?void 0:e.temperature.data}},methods:{getMicroBit(){return m.MicroBit.get(this.deviceId)},async readTemperature(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readTemperature())}catch(t){console.log(t)}}},async mounted(){await this.readTemperature()}});j.render=I;const W=j,L=(0,n.aZ)({name:"MicroBit",components:{MicroBitButtonA:b,MicroBitButtonB:k,MicroBitLed:S,MicroBitTemperature:W},props:{device:{type:Object,required:!0}},data(){return{text:""}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceName(){var e;return null===(e=this.device)||void 0===e?void 0:e.name},isDeviceConnected(){var e;return null===(e=this.device)||void 0===e?void 0:e.connection.connected},isDeviceConnecting(){var e;return null===(e=this.device)||void 0===e?void 0:e.connection.connecting},isButtonAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.button.available},isLedAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.led.available},isTemperatureAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.temperature.available},uartData(){var e;return null===(e=this.device)||void 0===e?void 0:e.uart.data},connectButtonLabel(){return this.isDeviceConnecting?"Connecting":this.isDeviceConnected?"Disconnect":"Connect"}},methods:{getMicroBit(){return m.MicroBit.get(this.deviceId)},async connect(){try{const e=this.getMicroBit();this.isDeviceConnected?await(null===e||void 0===e?void 0:e.disconnect()):await(null===e||void 0===e?void 0:e.connect())}catch(e){console.log(e)}},async writeText(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.writeText(this.text)),this.text=""}catch(t){console.log(t)}}}});var Q=i(151),K=i(5589),O=i(8908),V=i(9367),z=i(3410);L.render=h;const H=L;A()(L,"components",{QCard:Q.Z,QCardSection:K.Z,QInput:O.Z,QCardActions:V.Z,QBtn:z.Z});const U=(0,n.aZ)({components:{MicroBit:H},name:"IndexPage",computed:{...(0,c.Se)("MicroBit",["getDevices"])},methods:{...(0,c.nv)("MicroBit",["scan"]),async scanDevices(){try{await this.scan()}catch(e){console.log(e)}}}});var Y=i(4379);U.render=a;const N=U;A()(U,"components",{QPage:Y.Z,QBtn:z.Z})}}]);