"use strict";(self["webpackChunkmicrobit"]=self["webpackChunkmicrobit"]||[]).push([[513],{4513:(e,t,i)=>{i.r(t),i.d(t,{default:()=>S});var a=i(3673);function n(e,t,i,n,c,o){const d=(0,a.up)("q-btn"),r=(0,a.up)("micro-bit"),l=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{class:"full-width",color:"primary","no-caps":"",onClick:e.scanDevices,label:"Scan"},null,8,["onClick"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getDevices,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)(r,{device:e},null,8,["device"])])))),128))])),_:1})}var c=i(3617),o=i(2323),d=i(8880);const r={class:"text-h6"},l={class:"row text-center q-gutter-x-md"},u={class:"text-h6 q-mt-md"};function s(e,t,i,n,c,s){const v=(0,a.up)("q-card-section"),m=(0,a.up)("micro-bit-button-a"),h=(0,a.up)("q-card"),p=(0,a.up)("micro-bit-button-b"),w=(0,a.up)("micro-bit-temperature"),B=(0,a.up)("micro-bit-led"),g=(0,a.up)("q-input"),b=(0,a.up)("q-btn"),y=(0,a.up)("q-card-actions");return(0,a.wg)(),(0,a.j4)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a._)("div",r,(0,o.zw)(e.deviceName),1)])),_:1}),e.isDeviceConnected?((0,a.wg)(),(0,a.j4)(v,{key:0},{default:(0,a.w5)((()=>[(0,a._)("div",l,[e.isButtonAvailable?((0,a.wg)(),(0,a.j4)(h,{key:0,class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{device:e.device},null,8,["device"])])),_:1})])),_:1})):(0,a.kq)("",!0),e.isButtonAvailable?((0,a.wg)(),(0,a.j4)(h,{key:1,class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{device:e.device},null,8,["device"])])),_:1})])),_:1})):(0,a.kq)("",!0),e.isTemperatureAvailable?((0,a.wg)(),(0,a.j4)(h,{key:2,class:"col"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{device:e.device},null,8,["device"])])),_:1})])),_:1})):(0,a.kq)("",!0)]),e.isLedAvailable?((0,a.wg)(),(0,a.j4)(h,{key:0,class:"q-mt-md q-gutter-y-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{device:e.device},null,8,["device"]),(0,a.Wm)(g,{modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.text=t),type:"text","hide-bottom-space":"","hide-hint":"",label:"Text",class:"q-mt-md",outlined:"",onKeypress:(0,d.D2)(e.writeText,["enter"])},null,8,["modelValue","onKeypress"])])),_:1})])),_:1})):(0,a.kq)("",!0),e.isUartAvailable?((0,a.wg)(),(0,a.j4)(h,{key:1,class:"q-mt-md q-gutter-y-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,{modelValue:e.text,"onUpdate:modelValue":t[1]||(t[1]=t=>e.text=t),type:"text","hide-bottom-space":"","hide-hint":"",label:"Text",outlined:"",onKeypress:(0,d.D2)(e.sendText,["enter"])},null,8,["modelValue","onKeypress"]),(0,a._)("div",u,(0,o.zw)(e.uartData),1)])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{onClick:e.connect,loading:e.isDeviceConnecting,class:"full-width",label:e.connectButtonLabel},null,8,["onClick","loading","label"])])),_:1})])),_:1})}var v=i(5206);const m=(0,a._)("div",{class:"text-h4"},"A",-1),h={class:"text-h2"};function p(e,t,i,n,c,d){return(0,a.wg)(),(0,a.iD)("div",null,[m,(0,a._)("div",h,(0,o.zw)(e.deviceButtonAData),1)])}const w=(0,a.aZ)({name:"MicroBitButtonA",props:{device:{type:Object,required:!0}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceButtonAData(){var e;return null===(e=this.device)||void 0===e?void 0:e.button.a.data}},methods:{getMicroBit(){return v.MicroBit.get(this.deviceId)},async readButtonA(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readButtonA())}catch(t){console.log(t)}}},async mounted(){await this.readButtonA()}});w.render=p;const B=w,g=(0,a._)("div",{class:"text-h4"},"B",-1),b={class:"text-h2"};function y(e,t,i,n,c,d){return(0,a.wg)(),(0,a.iD)("div",null,[g,(0,a._)("div",b,(0,o.zw)(e.deviceButtonBData),1)])}const x=(0,a.aZ)({name:"MicroBitButtonB",props:{device:{type:Object,required:!0}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceButtonBData(){var e;return null===(e=this.device)||void 0===e?void 0:e.button.b.data}},methods:{getMicroBit(){return v.MicroBit.get(this.deviceId)},async readButtonB(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readButtonB())}catch(t){console.log(t)}}},async mounted(){await this.readButtonB()}});x.render=y;const M=x;function D(e,t,i,n,c,o){const d=(0,a.up)("q-checkbox");return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(t=>(0,a._)("div",{class:"row justify-center",key:t},[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(5,(i=>(0,a._)("div",{class:"col-auto",key:i},[(0,a.Wm)(d,{dense:"","model-value":e.deviceLedData[t-1][i-1],"onUpdate:modelValue":a=>e.writeMatrix(t-1,i-1,a)},null,8,["model-value","onUpdate:modelValue"])]))),64))]))),64))])}const f=(0,a.aZ)({name:"MicroBitLed",props:{device:{type:Object,required:!0}},data(){return{matrix:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceLedData(){var e;return null===(e=this.device)||void 0===e?void 0:e.led.data}},watch:{deviceLedData(e){this.matrix=e}},methods:{getMicroBit(){return v.MicroBit.get(this.deviceId)},async writeMatrix(e,t,i){try{var a;this.matrix[e][t]=i,await(null===(a=this.getMicroBit())||void 0===a?void 0:a.writeMatrix(this.matrix))}catch(n){console.log(n)}},async readMatrix(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readMatrix())}catch(t){console.log(t)}}},async mounted(){await this.readMatrix()}});var q=i(1420),_=i(7518),k=i.n(_);f.render=D;const C=f;k()(f,"components",{QCheckbox:q.Z});const A=(0,a._)("div",{class:"text-h4"},"Temperature",-1),T={class:"text-h2"};function W(e,t,i,n,c,d){return(0,a.wg)(),(0,a.iD)("div",null,[A,(0,a._)("div",T,(0,o.zw)(e.deviceTemperatureData),1)])}const j=(0,a.aZ)({name:"MicroBitTemperature",props:{device:{type:Object,required:!0}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceTemperatureData(){var e;return null===(e=this.device)||void 0===e?void 0:e.temperature.data}},methods:{getMicroBit(){return v.MicroBit.get(this.deviceId)},async readTemperature(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.readTemperature())}catch(t){console.log(t)}}},async mounted(){await this.readTemperature()}});j.render=W;const Z=j,I=(0,a.aZ)({name:"MicroBit",components:{MicroBitButtonA:B,MicroBitButtonB:M,MicroBitLed:C,MicroBitTemperature:Z},props:{device:{type:Object,required:!0}},data(){return{text:""}},computed:{deviceId(){var e;return null===(e=this.device)||void 0===e?void 0:e.id},deviceName(){var e;return null===(e=this.device)||void 0===e?void 0:e.name},isDeviceConnected(){var e;return null===(e=this.device)||void 0===e?void 0:e.connection.connected},isDeviceConnecting(){var e;return null===(e=this.device)||void 0===e?void 0:e.connection.connecting},isButtonAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.button.available},isLedAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.led.available},isTemperatureAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.temperature.available},isUartAvailable(){var e;return null===(e=this.device)||void 0===e?void 0:e.uart.available},uartData(){var e;return null===(e=this.device)||void 0===e?void 0:e.uart.data},connectButtonLabel(){return this.isDeviceConnecting?"Connecting":this.isDeviceConnected?"Disconnect":"Connect"}},methods:{getMicroBit(){return v.MicroBit.get(this.deviceId)},async connect(){try{const e=this.getMicroBit();this.isDeviceConnected?await(null===e||void 0===e?void 0:e.disconnect()):await(null===e||void 0===e?void 0:e.connect())}catch(e){console.log(e)}},async writeText(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.writeText(this.text)),this.text=""}catch(t){console.log(t)}},async sendText(){try{var e;await(null===(e=this.getMicroBit())||void 0===e?void 0:e.sendText(this.text+"\n")),this.text=""}catch(t){console.log(t)}}},async mounted(){}});var L=i(151),Q=i(5589),V=i(8908),K=i(9367),U=i(3410);I.render=s;const z=I;k()(I,"components",{QCard:L.Z,QCardSection:Q.Z,QInput:V.Z,QCardActions:K.Z,QBtn:U.Z});const O=(0,a.aZ)({components:{MicroBit:z},name:"IndexPage",computed:{...(0,c.Se)("MicroBit",["getDevices"])},methods:{...(0,c.nv)("MicroBit",["scan"]),async scanDevices(){try{await this.scan()}catch(e){console.log(e)}}}});var H=i(4379);O.render=n;const S=O;k()(O,"components",{QPage:H.Z,QBtn:U.Z})}}]);